(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const z={},Nt=[],Fe=()=>{},ga=()=>!1,er=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),rn=t=>t.startsWith("onUpdate:"),he=Object.assign,nn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},_a=Object.prototype.hasOwnProperty,W=(t,e)=>_a.call(t,e),j=Array.isArray,Bt=t=>ks(t)==="[object Map]",tr=t=>ks(t)==="[object Set]",Pn=t=>ks(t)==="[object Date]",U=t=>typeof t=="function",re=t=>typeof t=="string",Ne=t=>typeof t=="symbol",Z=t=>t!==null&&typeof t=="object",Ri=t=>(Z(t)||U(t))&&U(t.then)&&U(t.catch),Ii=Object.prototype.toString,ks=t=>Ii.call(t),va=t=>ks(t).slice(8,-1),Li=t=>ks(t)==="[object Object]",on=t=>re(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,as=sn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ma=/-(\w)/g,ot=sr(t=>t.replace(ma,(e,s)=>s?s.toUpperCase():"")),ya=/\B([A-Z])/g,at=sr(t=>t.replace(ya,"-$1").toLowerCase()),Di=sr(t=>t.charAt(0).toUpperCase()+t.slice(1)),vr=sr(t=>t?`on${Di(t)}`:""),nt=(t,e)=>!Object.is(t,e),Bs=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Ui=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Lr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let An;const rr=()=>An||(An=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nr(t){if(j(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=re(r)?xa(r):nr(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(re(t)||Z(t))return t}const ba=/;(?![^(]*\))/g,wa=/:([^]+)/,Sa=/\/\*[^]*?\*\//g;function xa(t){const e={};return t.replace(Sa,"").split(ba).forEach(s=>{if(s){const r=s.split(wa);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function We(t){let e="";if(re(t))e=t;else if(j(t))for(let s=0;s<t.length;s++){const r=We(t[s]);r&&(e+=r+" ")}else if(Z(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Ta="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ka=sn(Ta);function Mi(t){return!!t||t===""}function Ea(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=ir(t[r],e[r]);return s}function ir(t,e){if(t===e)return!0;let s=Pn(t),r=Pn(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=Ne(t),r=Ne(e),s||r)return t===e;if(s=j(t),r=j(e),s||r)return s&&r?Ea(t,e):!1;if(s=Z(t),r=Z(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ir(t[o],e[o]))return!1}}return String(t)===String(e)}function Fi(t,e){return t.findIndex(s=>ir(s,e))}const Ni=t=>!!(t&&t.__v_isRef===!0),qs=t=>re(t)?t:t==null?"":j(t)||Z(t)&&(t.toString===Ii||!U(t.toString))?Ni(t)?qs(t.value):JSON.stringify(t,Bi,2):String(t),Bi=(t,e)=>Ni(e)?Bi(t,e.value):Bt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[mr(r,i)+" =>"]=n,s),{})}:tr(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>mr(s))}:Ne(e)?mr(e):Z(e)&&!j(e)&&!Li(e)?String(e):e,mr=(t,e="")=>{var s;return Ne(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let de;class qi{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=de,!e&&de&&(this.index=(de.scopes||(de.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=de;try{return de=this,e()}finally{de=s}}}on(){de=this}off(){de=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Hi(t){return new qi(t)}function Ki(){return de}function Oa(t,e=!1){de&&de.cleanups.push(t)}let X;const yr=new WeakSet;class Vi{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,de&&de.active&&de.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yr.has(this)&&(yr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ji(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Cn(this),zi(this);const e=X,s=Pe;X=this,Pe=!0;try{return this.fn()}finally{Gi(this),X=e,Pe=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)cn(e);this.deps=this.depsTail=void 0,Cn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Dr(this)&&this.run()}get dirty(){return Dr(this)}}let Wi=0,ls,cs;function Ji(t,e=!1){if(t.flags|=8,e){t.next=cs,cs=t;return}t.next=ls,ls=t}function an(){Wi++}function ln(){if(--Wi>0)return;if(cs){let e=cs;for(cs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;ls;){let e=ls;for(ls=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function zi(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Gi(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),cn(r),Pa(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Dr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Qi(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Qi(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ys))return;t.globalVersion=ys;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Dr(t)){t.flags&=-3;return}const s=X,r=Pe;X=t,Pe=!0;try{zi(t);const n=t.fn(t._value);(e.version===0||nt(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{X=s,Pe=r,Gi(t),t.flags&=-3}}function cn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)cn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Pa(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Pe=!0;const Yi=[];function lt(){Yi.push(Pe),Pe=!1}function ct(){const t=Yi.pop();Pe=t===void 0?!0:t}function Cn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=X;X=void 0;try{e()}finally{X=s}}}let ys=0;class Aa{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class un{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!X||!Pe||X===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==X)s=this.activeLink=new Aa(X,this),X.deps?(s.prevDep=X.depsTail,X.depsTail.nextDep=s,X.depsTail=s):X.deps=X.depsTail=s,Xi(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=X.depsTail,s.nextDep=void 0,X.depsTail.nextDep=s,X.depsTail=s,X.deps===s&&(X.deps=r)}return s}trigger(e){this.version++,ys++,this.notify(e)}notify(e){an();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ln()}}}function Xi(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Xi(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Vs=new WeakMap,wt=Symbol(""),Ur=Symbol(""),bs=Symbol("");function ae(t,e,s){if(Pe&&X){let r=Vs.get(t);r||Vs.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new un),n.map=r,n.key=s),n.track()}}function Je(t,e,s,r,n,i){const o=Vs.get(t);if(!o){ys++;return}const a=l=>{l&&l.trigger()};if(an(),e==="clear")o.forEach(a);else{const l=j(t),u=l&&on(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,p)=>{(p==="length"||p===bs||!Ne(p)&&p>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(bs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(wt)),Bt(t)&&a(o.get(Ur)));break;case"delete":l||(a(o.get(wt)),Bt(t)&&a(o.get(Ur)));break;case"set":Bt(t)&&a(o.get(wt));break}}ln()}function Ca(t,e){const s=Vs.get(t);return s&&s.get(e)}function Pt(t){const e=V(t);return e===t?e:(ae(e,"iterate",bs),Te(t)?e:e.map(le))}function or(t){return ae(t=V(t),"iterate",bs),t}const ja={__proto__:null,[Symbol.iterator](){return br(this,Symbol.iterator,le)},concat(...t){return Pt(this).concat(...t.map(e=>j(e)?Pt(e):e))},entries(){return br(this,"entries",t=>(t[1]=le(t[1]),t))},every(t,e){return He(this,"every",t,e,void 0,arguments)},filter(t,e){return He(this,"filter",t,e,s=>s.map(le),arguments)},find(t,e){return He(this,"find",t,e,le,arguments)},findIndex(t,e){return He(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return He(this,"findLast",t,e,le,arguments)},findLastIndex(t,e){return He(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return He(this,"forEach",t,e,void 0,arguments)},includes(...t){return wr(this,"includes",t)},indexOf(...t){return wr(this,"indexOf",t)},join(t){return Pt(this).join(t)},lastIndexOf(...t){return wr(this,"lastIndexOf",t)},map(t,e){return He(this,"map",t,e,void 0,arguments)},pop(){return es(this,"pop")},push(...t){return es(this,"push",t)},reduce(t,...e){return jn(this,"reduce",t,e)},reduceRight(t,...e){return jn(this,"reduceRight",t,e)},shift(){return es(this,"shift")},some(t,e){return He(this,"some",t,e,void 0,arguments)},splice(...t){return es(this,"splice",t)},toReversed(){return Pt(this).toReversed()},toSorted(t){return Pt(this).toSorted(t)},toSpliced(...t){return Pt(this).toSpliced(...t)},unshift(...t){return es(this,"unshift",t)},values(){return br(this,"values",le)}};function br(t,e,s){const r=or(t),n=r[e]();return r!==t&&!Te(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const $a=Array.prototype;function He(t,e,s,r,n,i){const o=or(t),a=o!==t&&!Te(t),l=o[e];if(l!==$a[e]){const h=l.apply(t,i);return a?le(h):h}let u=s;o!==t&&(a?u=function(h,p){return s.call(this,le(h),p,t)}:s.length>2&&(u=function(h,p){return s.call(this,h,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function jn(t,e,s,r){const n=or(t);let i=s;return n!==t&&(Te(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,le(a),l,t)}),n[e](i,...r)}function wr(t,e,s){const r=V(t);ae(r,"iterate",bs);const n=r[e](...s);return(n===-1||n===!1)&&dn(s[0])?(s[0]=V(s[0]),r[e](...s)):n}function es(t,e,s=[]){lt(),an();const r=V(t)[e].apply(t,s);return ln(),ct(),r}const Ra=sn("__proto__,__v_isRef,__isVue"),Zi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ne));function Ia(t){Ne(t)||(t=String(t));const e=V(this);return ae(e,"has",t),e.hasOwnProperty(t)}class eo{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Ka:no:i?ro:so).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=j(e);if(!n){let l;if(o&&(l=ja[s]))return l;if(s==="hasOwnProperty")return Ia}const a=Reflect.get(e,s,te(e)?e:r);return(Ne(s)?Zi.has(s):Ra(s))||(n||ae(e,"get",s),i)?a:te(a)?o&&on(s)?a:a.value:Z(a)?n?io(a):ar(a):a}}class to extends eo{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=xt(i);if(!Te(r)&&!xt(r)&&(i=V(i),r=V(r)),!j(e)&&te(i)&&!te(r))return l?!1:(i.value=r,!0)}const o=j(e)&&on(s)?Number(s)<e.length:W(e,s),a=Reflect.set(e,s,r,te(e)?e:n);return e===V(n)&&(o?nt(r,i)&&Je(e,"set",s,r):Je(e,"add",s,r)),a}deleteProperty(e,s){const r=W(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Je(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!Ne(s)||!Zi.has(s))&&ae(e,"has",s),r}ownKeys(e){return ae(e,"iterate",j(e)?"length":wt),Reflect.ownKeys(e)}}class La extends eo{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Da=new to,Ua=new La,Ma=new to(!0);const Mr=t=>t,$s=t=>Reflect.getPrototypeOf(t);function Fa(t,e,s){return function(...r){const n=this.__v_raw,i=V(n),o=Bt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Mr:e?Fr:le;return!e&&ae(i,"iterate",l?Ur:wt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function Rs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Na(t,e){const s={get(n){const i=this.__v_raw,o=V(i),a=V(n);t||(nt(n,a)&&ae(o,"get",n),ae(o,"get",a));const{has:l}=$s(o),u=e?Mr:t?Fr:le;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ae(V(n),"iterate",wt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=V(i),a=V(n);return t||(nt(n,a)&&ae(o,"has",n),ae(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=V(a),u=e?Mr:t?Fr:le;return!t&&ae(l,"iterate",wt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return he(s,t?{add:Rs("add"),set:Rs("set"),delete:Rs("delete"),clear:Rs("clear")}:{add(n){!e&&!Te(n)&&!xt(n)&&(n=V(n));const i=V(this);return $s(i).has.call(i,n)||(i.add(n),Je(i,"add",n,n)),this},set(n,i){!e&&!Te(i)&&!xt(i)&&(i=V(i));const o=V(this),{has:a,get:l}=$s(o);let u=a.call(o,n);u||(n=V(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?nt(i,c)&&Je(o,"set",n,i):Je(o,"add",n,i),this},delete(n){const i=V(this),{has:o,get:a}=$s(i);let l=o.call(i,n);l||(n=V(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&Je(i,"delete",n,void 0),u},clear(){const n=V(this),i=n.size!==0,o=n.clear();return i&&Je(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Fa(n,t,e)}),s}function hn(t,e){const s=Na(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(W(s,n)&&n in r?s:r,n,i)}const Ba={get:hn(!1,!1)},qa={get:hn(!1,!0)},Ha={get:hn(!0,!1)};const so=new WeakMap,ro=new WeakMap,no=new WeakMap,Ka=new WeakMap;function Va(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wa(t){return t.__v_skip||!Object.isExtensible(t)?0:Va(va(t))}function ar(t){return xt(t)?t:fn(t,!1,Da,Ba,so)}function Ja(t){return fn(t,!1,Ma,qa,ro)}function io(t){return fn(t,!0,Ua,Ha,no)}function fn(t,e,s,r,n){if(!Z(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=Wa(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function it(t){return xt(t)?it(t.__v_raw):!!(t&&t.__v_isReactive)}function xt(t){return!!(t&&t.__v_isReadonly)}function Te(t){return!!(t&&t.__v_isShallow)}function dn(t){return t?!!t.__v_raw:!1}function V(t){const e=t&&t.__v_raw;return e?V(e):t}function pn(t){return!W(t,"__v_skip")&&Object.isExtensible(t)&&Ui(t,"__v_skip",!0),t}const le=t=>Z(t)?ar(t):t,Fr=t=>Z(t)?io(t):t;function te(t){return t?t.__v_isRef===!0:!1}function bt(t){return za(t,!1)}function za(t,e){return te(t)?t:new Ga(t,e)}class Ga{constructor(e,s){this.dep=new un,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:V(e),this._value=s?e:le(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Te(e)||xt(e);e=r?e:V(e),nt(e,s)&&(this._rawValue=e,this._value=r?e:le(e),this.dep.trigger())}}function Vt(t){return te(t)?t.value:t}const Qa={get:(t,e,s)=>e==="__v_raw"?t:Vt(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return te(n)&&!te(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function oo(t){return it(t)?t:new Proxy(t,Qa)}function Ya(t){const e=j(t)?new Array(t.length):{};for(const s in t)e[s]=Za(t,s);return e}class Xa{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Ca(V(this._object),this._key)}}function Za(t,e,s){const r=t[e];return te(r)?r:new Xa(t,e,s)}class el{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new un(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ys-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&X!==this)return Ji(this,!0),!0}get value(){const e=this.dep.track();return Qi(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function tl(t,e,s=!1){let r,n;return U(t)?r=t:(r=t.get,n=t.set),new el(r,n,s)}const Is={},Ws=new WeakMap;let _t;function sl(t,e=!1,s=_t){if(s){let r=Ws.get(s);r||Ws.set(s,r=[]),r.push(t)}}function rl(t,e,s=z){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=O=>n?O:Te(O)||n===!1||n===0?ze(O,1):ze(O);let c,h,p,g,w=!1,E=!1;if(te(t)?(h=()=>t.value,w=Te(t)):it(t)?(h=()=>u(t),w=!0):j(t)?(E=!0,w=t.some(O=>it(O)||Te(O)),h=()=>t.map(O=>{if(te(O))return O.value;if(it(O))return u(O);if(U(O))return l?l(O,2):O()})):U(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){lt();try{p()}finally{ct()}}const O=_t;_t=c;try{return l?l(t,3,[g]):t(g)}finally{_t=O}}:h=Fe,e&&n){const O=h,$=n===!0?1/0:n;h=()=>ze(O(),$)}const P=Ki(),R=()=>{c.stop(),P&&P.active&&nn(P.effects,c)};if(i&&e){const O=e;e=(...$)=>{O(...$),R()}}let B=E?new Array(t.length).fill(Is):Is;const D=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(e){const $=c.run();if(n||w||(E?$.some((qe,oe)=>nt(qe,B[oe])):nt($,B))){p&&p();const qe=_t;_t=c;try{const oe=[$,B===Is?void 0:E&&B[0]===Is?[]:B,g];l?l(e,3,oe):e(...oe),B=$}finally{_t=qe}}}else c.run()};return a&&a(D),c=new Vi(h),c.scheduler=o?()=>o(D,!1):D,g=O=>sl(O,!1,c),p=c.onStop=()=>{const O=Ws.get(c);if(O){if(l)l(O,4);else for(const $ of O)$();Ws.delete(c)}},e?r?D(!0):B=c.run():o?o(D.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function ze(t,e=1/0,s){if(e<=0||!Z(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,te(t))ze(t.value,e,s);else if(j(t))for(let r=0;r<t.length;r++)ze(t[r],e,s);else if(tr(t)||Bt(t))t.forEach(r=>{ze(r,e,s)});else if(Li(t)){for(const r in t)ze(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ze(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Es(t,e,s,r){try{return r?t(...r):t()}catch(n){lr(n,e,s)}}function Be(t,e,s,r){if(U(t)){const n=Es(t,e,s,r);return n&&Ri(n)&&n.catch(i=>{lr(i,e,s)}),n}if(j(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Be(t[i],e,s,r));return n}}function lr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||z;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){lt(),Es(i,null,10,[t,l,u]),ct();return}}nl(t,s,n,r,o)}function nl(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const pe=[];let Ue=-1;const qt=[];let et=null,Mt=0;const ao=Promise.resolve();let Js=null;function lo(t){const e=Js||ao;return t?e.then(this?t.bind(this):t):e}function il(t){let e=Ue+1,s=pe.length;for(;e<s;){const r=e+s>>>1,n=pe[r],i=ws(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function gn(t){if(!(t.flags&1)){const e=ws(t),s=pe[pe.length-1];!s||!(t.flags&2)&&e>=ws(s)?pe.push(t):pe.splice(il(e),0,t),t.flags|=1,co()}}function co(){Js||(Js=ao.then(ho))}function ol(t){j(t)?qt.push(...t):et&&t.id===-1?et.splice(Mt+1,0,t):t.flags&1||(qt.push(t),t.flags|=1),co()}function $n(t,e,s=Ue+1){for(;s<pe.length;s++){const r=pe[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;pe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function uo(t){if(qt.length){const e=[...new Set(qt)].sort((s,r)=>ws(s)-ws(r));if(qt.length=0,et){et.push(...e);return}for(et=e,Mt=0;Mt<et.length;Mt++){const s=et[Mt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}et=null,Mt=0}}const ws=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ho(t){try{for(Ue=0;Ue<pe.length;Ue++){const e=pe[Ue];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Es(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ue<pe.length;Ue++){const e=pe[Ue];e&&(e.flags&=-2)}Ue=-1,pe.length=0,uo(),Js=null,(pe.length||qt.length)&&ho()}}let we=null,fo=null;function zs(t){const e=we;return we=t,fo=t&&t.type.__scopeId||null,e}function al(t,e=we,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Bn(-1);const i=zs(e);let o;try{o=t(...n)}finally{zs(i),r._d&&Bn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ls(t,e){if(we===null)return t;const s=fr(we),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=z]=e[n];i&&(U(i)&&(i={mounted:i,updated:i}),i.deep&&ze(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function dt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(lt(),Be(l,s,8,[t.el,a,t,e]),ct())}}const ll=Symbol("_vte"),cl=t=>t.__isTeleport;function _n(t,e){t.shapeFlag&6&&t.component?(t.transition=e,_n(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Et(t,e){return U(t)?he({name:t.name},e,{setup:t}):t}function po(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Gs(t,e,s,r,n=!1){if(j(t)){t.forEach((w,E)=>Gs(w,e&&(j(e)?e[E]:e),s,r,n));return}if(us(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Gs(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?fr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===z?a.refs={}:a.refs,h=a.setupState,p=V(h),g=h===z?()=>!1:w=>W(p,w);if(u!=null&&u!==l&&(re(u)?(c[u]=null,g(u)&&(h[u]=null)):te(u)&&(u.value=null)),U(l))Es(l,a,12,[o,c]);else{const w=re(l),E=te(l);if(w||E){const P=()=>{if(t.f){const R=w?g(l)?h[l]:c[l]:l.value;n?j(R)&&nn(R,i):j(R)?R.includes(i)||R.push(i):w?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else w?(c[l]=o,g(l)&&(h[l]=o)):E&&(l.value=o,t.k&&(c[t.k]=o))};o?(P.id=-1,ye(P,s)):P()}}}rr().requestIdleCallback;rr().cancelIdleCallback;const us=t=>!!t.type.__asyncLoader,go=t=>t.type.__isKeepAlive;function ul(t,e){_o(t,"a",e)}function hl(t,e){_o(t,"da",e)}function _o(t,e,s=ce){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(cr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)go(n.parent.vnode)&&fl(r,e,s,n),n=n.parent}}function fl(t,e,s,r){const n=cr(e,t,r,!0);mo(()=>{nn(r[e],n)},s)}function cr(t,e,s=ce,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{lt();const a=Os(s),l=Be(e,s,t,o);return a(),ct(),l});return r?n.unshift(i):n.push(i),i}}const Ge=t=>(e,s=ce)=>{(!xs||t==="sp")&&cr(t,(...r)=>e(...r),s)},dl=Ge("bm"),vo=Ge("m"),pl=Ge("bu"),gl=Ge("u"),_l=Ge("bum"),mo=Ge("um"),vl=Ge("sp"),ml=Ge("rtg"),yl=Ge("rtc");function bl(t,e=ce){cr("ec",t,e)}const wl=Symbol.for("v-ndc");function Sl(t,e,s,r){let n;const i=s,o=j(t);if(o||re(t)){const a=o&&it(t);let l=!1;a&&(l=!Te(t),t=or(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?le(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(Z(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Nr=t=>t?No(t)?fr(t):Nr(t.parent):null,hs=he(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Nr(t.parent),$root:t=>Nr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>bo(t),$forceUpdate:t=>t.f||(t.f=()=>{gn(t.update)}),$nextTick:t=>t.n||(t.n=lo.bind(t.proxy)),$watch:t=>Vl.bind(t)}),Sr=(t,e)=>t!==z&&!t.__isScriptSetup&&W(t,e),xl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Sr(r,e))return o[e]=1,r[e];if(n!==z&&W(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&W(u,e))return o[e]=3,i[e];if(s!==z&&W(s,e))return o[e]=4,s[e];Br&&(o[e]=0)}}const c=hs[e];let h,p;if(c)return e==="$attrs"&&ae(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==z&&W(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,W(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return Sr(n,e)?(n[e]=s,!0):r!==z&&W(r,e)?(r[e]=s,!0):W(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==z&&W(t,o)||Sr(e,o)||(a=i[0])&&W(a,o)||W(r,o)||W(hs,o)||W(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:W(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Rn(t){return j(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Br=!0;function Tl(t){const e=bo(t),s=t.proxy,r=t.ctx;Br=!1,e.beforeCreate&&In(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:w,activated:E,deactivated:P,beforeDestroy:R,beforeUnmount:B,destroyed:D,unmounted:O,render:$,renderTracked:qe,renderTriggered:oe,errorCaptured:q,serverPrefetch:K,expose:se,inheritAttrs:xe,components:Ce,directives:Qe,filters:Qt}=e;if(u&&kl(u,r,null),o)for(const F in o){const G=o[F];U(G)&&(r[F]=G.bind(s))}if(n){const F=n.call(s,s);Z(F)&&(t.data=ar(F))}if(Br=!0,i)for(const F in i){const G=i[F],ht=U(G)?G.bind(s,s):U(G.get)?G.get.bind(s,s):Fe,Cs=!U(G)&&U(G.set)?G.set.bind(s):Fe,ft=dr({get:ht,set:Cs});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>ft.value,set:je=>ft.value=je})}if(a)for(const F in a)yo(a[F],r,s,F);if(l){const F=U(l)?l.call(s):l;Reflect.ownKeys(F).forEach(G=>{jl(G,F[G])})}c&&In(c,t,"c");function ee(F,G){j(G)?G.forEach(ht=>F(ht.bind(s))):G&&F(G.bind(s))}if(ee(dl,h),ee(vo,p),ee(pl,g),ee(gl,w),ee(ul,E),ee(hl,P),ee(bl,q),ee(yl,qe),ee(ml,oe),ee(_l,B),ee(mo,O),ee(vl,K),j(se))if(se.length){const F=t.exposed||(t.exposed={});se.forEach(G=>{Object.defineProperty(F,G,{get:()=>s[G],set:ht=>s[G]=ht})})}else t.exposed||(t.exposed={});$&&t.render===Fe&&(t.render=$),xe!=null&&(t.inheritAttrs=xe),Ce&&(t.components=Ce),Qe&&(t.directives=Qe),K&&po(t)}function kl(t,e,s=Fe){j(t)&&(t=qr(t));for(const r in t){const n=t[r];let i;Z(n)?"default"in n?i=fs(n.from||r,n.default,!0):i=fs(n.from||r):i=fs(n),te(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function In(t,e,s){Be(j(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function yo(t,e,s,r){let n=r.includes(".")?Io(s,r):()=>s[r];if(re(t)){const i=e[t];U(i)&&ds(n,i)}else if(U(t))ds(n,t.bind(s));else if(Z(t))if(j(t))t.forEach(i=>yo(i,e,s,r));else{const i=U(t.handler)?t.handler.bind(s):e[t.handler];U(i)&&ds(n,i,t)}}function bo(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Qs(l,u,o,!0)),Qs(l,e,o)),Z(e)&&i.set(e,l),l}function Qs(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Qs(t,i,s,!0),n&&n.forEach(o=>Qs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=El[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const El={data:Ln,props:Dn,emits:Dn,methods:is,computed:is,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:is,directives:is,watch:Pl,provide:Ln,inject:Ol};function Ln(t,e){return e?t?function(){return he(U(t)?t.call(this,this):t,U(e)?e.call(this,this):e)}:e:t}function Ol(t,e){return is(qr(t),qr(e))}function qr(t){if(j(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function fe(t,e){return t?[...new Set([].concat(t,e))]:e}function is(t,e){return t?he(Object.create(null),t,e):e}function Dn(t,e){return t?j(t)&&j(e)?[...new Set([...t,...e])]:he(Object.create(null),Rn(t),Rn(e??{})):e}function Pl(t,e){if(!t)return e;if(!e)return t;const s=he(Object.create(null),t);for(const r in e)s[r]=fe(t[r],e[r]);return s}function wo(){return{app:null,config:{isNativeTag:ga,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Al=0;function Cl(t,e){return function(r,n=null){U(r)||(r=he({},r)),n!=null&&!Z(n)&&(n=null);const i=wo(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Al++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:dc,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&U(c.install)?(o.add(c),c.install(u,...h)):U(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const g=u._ceVNode||ue(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,fr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Be(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=St;St=u;try{return c()}finally{St=h}}};return u}}let St=null;function jl(t,e){if(ce){let s=ce.provides;const r=ce.parent&&ce.parent.provides;r===s&&(s=ce.provides=Object.create(r)),s[t]=e}}function fs(t,e,s=!1){const r=ce||we;if(r||St){const n=St?St._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&U(e)?e.call(r&&r.proxy):e}}function $l(){return!!(ce||we||St)}const So={},xo=()=>Object.create(So),To=t=>Object.getPrototypeOf(t)===So;function Rl(t,e,s,r=!1){const n={},i=xo();t.propsDefaults=Object.create(null),ko(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Ja(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Il(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=V(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(ur(t.emitsOptions,p))continue;const g=e[p];if(l)if(W(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const w=ot(p);n[w]=Hr(l,a,w,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{ko(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!W(e,h)&&((c=at(h))===h||!W(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=Hr(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!W(e,h))&&(delete i[h],u=!0)}u&&Je(t.attrs,"set","")}function ko(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(as(l))continue;const u=e[l];let c;n&&W(n,c=ot(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:ur(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=V(s),u=a||z;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Hr(n,l,h,u[h],t,!W(u,h))}}return o}function Hr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=W(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&U(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Os(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===at(s))&&(r=!0))}return r}const Ll=new WeakMap;function Eo(t,e,s=!1){const r=s?Ll:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!U(t)){const c=h=>{l=!0;const[p,g]=Eo(h,e,!0);he(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Z(t)&&r.set(t,Nt),Nt;if(j(i))for(let c=0;c<i.length;c++){const h=ot(i[c]);Un(h)&&(o[h]=z)}else if(i)for(const c in i){const h=ot(c);if(Un(h)){const p=i[c],g=o[h]=j(p)||U(p)?{type:p}:he({},p),w=g.type;let E=!1,P=!0;if(j(w))for(let R=0;R<w.length;++R){const B=w[R],D=U(B)&&B.name;if(D==="Boolean"){E=!0;break}else D==="String"&&(P=!1)}else E=U(w)&&w.name==="Boolean";g[0]=E,g[1]=P,(E||W(g,"default"))&&a.push(h)}}const u=[o,a];return Z(t)&&r.set(t,u),u}function Un(t){return t[0]!=="$"&&!as(t)}const Oo=t=>t[0]==="_"||t==="$stable",vn=t=>j(t)?t.map(Me):[Me(t)],Dl=(t,e,s)=>{if(e._n)return e;const r=al((...n)=>vn(e(...n)),s);return r._c=!1,r},Po=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Oo(n))continue;const i=t[n];if(U(i))e[n]=Dl(n,i,r);else if(i!=null){const o=vn(i);e[n]=()=>o}}},Ao=(t,e)=>{const s=vn(e);t.slots.default=()=>s},Co=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},Ul=(t,e,s)=>{const r=t.slots=xo();if(t.vnode.shapeFlag&32){const n=e._;n?(Co(r,e,s),s&&Ui(r,"_",n,!0)):Po(e,r)}else e&&Ao(t,e)},Ml=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=z;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Co(n,e,s):(i=!e.$stable,Po(e,n)),o=e}else e&&(Ao(t,e),o={default:1});if(i)for(const a in n)!Oo(a)&&o[a]==null&&delete n[a]},ye=Xl;function Fl(t){return Nl(t)}function Nl(t,e){const s=rr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=Fe,insertStaticContent:w}=t,E=(f,d,_,y=null,v=null,m=null,T=void 0,x=null,S=!!d.dynamicChildren)=>{if(f===d)return;f&&!ts(f,d)&&(y=js(f),je(f,v,m,!0),f=null),d.patchFlag===-2&&(S=!1,d.dynamicChildren=null);const{type:b,ref:C,shapeFlag:k}=d;switch(b){case hr:P(f,d,_,y);break;case Tt:R(f,d,_,y);break;case Tr:f==null&&B(d,_,y,T);break;case Oe:Ce(f,d,_,y,v,m,T,x,S);break;default:k&1?$(f,d,_,y,v,m,T,x,S):k&6?Qe(f,d,_,y,v,m,T,x,S):(k&64||k&128)&&b.process(f,d,_,y,v,m,T,x,S,Xt)}C!=null&&v&&Gs(C,f&&f.ref,m,d||f,!d)},P=(f,d,_,y)=>{if(f==null)r(d.el=a(d.children),_,y);else{const v=d.el=f.el;d.children!==f.children&&u(v,d.children)}},R=(f,d,_,y)=>{f==null?r(d.el=l(d.children||""),_,y):d.el=f.el},B=(f,d,_,y)=>{[f.el,f.anchor]=w(f.children,d,_,y,f.el,f.anchor)},D=({el:f,anchor:d},_,y)=>{let v;for(;f&&f!==d;)v=p(f),r(f,_,y),f=v;r(d,_,y)},O=({el:f,anchor:d})=>{let _;for(;f&&f!==d;)_=p(f),n(f),f=_;n(d)},$=(f,d,_,y,v,m,T,x,S)=>{d.type==="svg"?T="svg":d.type==="math"&&(T="mathml"),f==null?qe(d,_,y,v,m,T,x,S):K(f,d,v,m,T,x,S)},qe=(f,d,_,y,v,m,T,x)=>{let S,b;const{props:C,shapeFlag:k,transition:A,dirs:I}=f;if(S=f.el=o(f.type,m,C&&C.is,C),k&8?c(S,f.children):k&16&&q(f.children,S,null,y,v,xr(f,m),T,x),I&&dt(f,null,y,"created"),oe(S,f,f.scopeId,T,y),C){for(const Q in C)Q!=="value"&&!as(Q)&&i(S,Q,null,C[Q],m,y);"value"in C&&i(S,"value",null,C.value,m),(b=C.onVnodeBeforeMount)&&Le(b,y,f)}I&&dt(f,null,y,"beforeMount");const H=Bl(v,A);H&&A.beforeEnter(S),r(S,d,_),((b=C&&C.onVnodeMounted)||H||I)&&ye(()=>{b&&Le(b,y,f),H&&A.enter(S),I&&dt(f,null,y,"mounted")},v)},oe=(f,d,_,y,v)=>{if(_&&g(f,_),y)for(let m=0;m<y.length;m++)g(f,y[m]);if(v){let m=v.subTree;if(d===m||Do(m.type)&&(m.ssContent===d||m.ssFallback===d)){const T=v.vnode;oe(f,T,T.scopeId,T.slotScopeIds,v.parent)}}},q=(f,d,_,y,v,m,T,x,S=0)=>{for(let b=S;b<f.length;b++){const C=f[b]=x?tt(f[b]):Me(f[b]);E(null,C,d,_,y,v,m,T,x)}},K=(f,d,_,y,v,m,T)=>{const x=d.el=f.el;let{patchFlag:S,dynamicChildren:b,dirs:C}=d;S|=f.patchFlag&16;const k=f.props||z,A=d.props||z;let I;if(_&&pt(_,!1),(I=A.onVnodeBeforeUpdate)&&Le(I,_,d,f),C&&dt(d,f,_,"beforeUpdate"),_&&pt(_,!0),(k.innerHTML&&A.innerHTML==null||k.textContent&&A.textContent==null)&&c(x,""),b?se(f.dynamicChildren,b,x,_,y,xr(d,v),m):T||G(f,d,x,null,_,y,xr(d,v),m,!1),S>0){if(S&16)xe(x,k,A,_,v);else if(S&2&&k.class!==A.class&&i(x,"class",null,A.class,v),S&4&&i(x,"style",k.style,A.style,v),S&8){const H=d.dynamicProps;for(let Q=0;Q<H.length;Q++){const J=H[Q],ve=k[J],ge=A[J];(ge!==ve||J==="value")&&i(x,J,ve,ge,v,_)}}S&1&&f.children!==d.children&&c(x,d.children)}else!T&&b==null&&xe(x,k,A,_,v);((I=A.onVnodeUpdated)||C)&&ye(()=>{I&&Le(I,_,d,f),C&&dt(d,f,_,"updated")},y)},se=(f,d,_,y,v,m,T)=>{for(let x=0;x<d.length;x++){const S=f[x],b=d[x],C=S.el&&(S.type===Oe||!ts(S,b)||S.shapeFlag&70)?h(S.el):_;E(S,b,C,null,y,v,m,T,!0)}},xe=(f,d,_,y,v)=>{if(d!==_){if(d!==z)for(const m in d)!as(m)&&!(m in _)&&i(f,m,d[m],null,v,y);for(const m in _){if(as(m))continue;const T=_[m],x=d[m];T!==x&&m!=="value"&&i(f,m,x,T,v,y)}"value"in _&&i(f,"value",d.value,_.value,v)}},Ce=(f,d,_,y,v,m,T,x,S)=>{const b=d.el=f?f.el:a(""),C=d.anchor=f?f.anchor:a("");let{patchFlag:k,dynamicChildren:A,slotScopeIds:I}=d;I&&(x=x?x.concat(I):I),f==null?(r(b,_,y),r(C,_,y),q(d.children||[],_,C,v,m,T,x,S)):k>0&&k&64&&A&&f.dynamicChildren?(se(f.dynamicChildren,A,_,v,m,T,x),(d.key!=null||v&&d===v.subTree)&&jo(f,d,!0)):G(f,d,_,C,v,m,T,x,S)},Qe=(f,d,_,y,v,m,T,x,S)=>{d.slotScopeIds=x,f==null?d.shapeFlag&512?v.ctx.activate(d,_,y,T,S):Qt(d,_,y,v,m,T,S):As(f,d,S)},Qt=(f,d,_,y,v,m,T)=>{const x=f.component=ac(f,y,v);if(go(f)&&(x.ctx.renderer=Xt),lc(x,!1,T),x.asyncDep){if(v&&v.registerDep(x,ee,T),!f.el){const S=x.subTree=ue(Tt);R(null,S,d,_)}}else ee(x,f,d,_,v,m,T)},As=(f,d,_)=>{const y=d.component=f.component;if(Ql(f,d,_))if(y.asyncDep&&!y.asyncResolved){F(y,d,_);return}else y.next=d,y.update();else d.el=f.el,y.vnode=d},ee=(f,d,_,y,v,m,T)=>{const x=()=>{if(f.isMounted){let{next:k,bu:A,u:I,parent:H,vnode:Q}=f;{const Re=$o(f);if(Re){k&&(k.el=Q.el,F(f,k,T)),Re.asyncDep.then(()=>{f.isUnmounted||x()});return}}let J=k,ve;pt(f,!1),k?(k.el=Q.el,F(f,k,T)):k=Q,A&&Bs(A),(ve=k.props&&k.props.onVnodeBeforeUpdate)&&Le(ve,H,k,Q),pt(f,!0);const ge=Fn(f),$e=f.subTree;f.subTree=ge,E($e,ge,h($e.el),js($e),f,v,m),k.el=ge.el,J===null&&Yl(f,ge.el),I&&ye(I,v),(ve=k.props&&k.props.onVnodeUpdated)&&ye(()=>Le(ve,H,k,Q),v)}else{let k;const{el:A,props:I}=d,{bm:H,m:Q,parent:J,root:ve,type:ge}=f,$e=us(d);pt(f,!1),H&&Bs(H),!$e&&(k=I&&I.onVnodeBeforeMount)&&Le(k,J,d),pt(f,!0);{ve.ce&&ve.ce._injectChildStyle(ge);const Re=f.subTree=Fn(f);E(null,Re,_,y,f,v,m),d.el=Re.el}if(Q&&ye(Q,v),!$e&&(k=I&&I.onVnodeMounted)){const Re=d;ye(()=>Le(k,J,Re),v)}(d.shapeFlag&256||J&&us(J.vnode)&&J.vnode.shapeFlag&256)&&f.a&&ye(f.a,v),f.isMounted=!0,d=_=y=null}};f.scope.on();const S=f.effect=new Vi(x);f.scope.off();const b=f.update=S.run.bind(S),C=f.job=S.runIfDirty.bind(S);C.i=f,C.id=f.uid,S.scheduler=()=>gn(C),pt(f,!0),b()},F=(f,d,_)=>{d.component=f;const y=f.vnode.props;f.vnode=d,f.next=null,Il(f,d.props,y,_),Ml(f,d.children,_),lt(),$n(f),ct()},G=(f,d,_,y,v,m,T,x,S=!1)=>{const b=f&&f.children,C=f?f.shapeFlag:0,k=d.children,{patchFlag:A,shapeFlag:I}=d;if(A>0){if(A&128){Cs(b,k,_,y,v,m,T,x,S);return}else if(A&256){ht(b,k,_,y,v,m,T,x,S);return}}I&8?(C&16&&Yt(b,v,m),k!==b&&c(_,k)):C&16?I&16?Cs(b,k,_,y,v,m,T,x,S):Yt(b,v,m,!0):(C&8&&c(_,""),I&16&&q(k,_,y,v,m,T,x,S))},ht=(f,d,_,y,v,m,T,x,S)=>{f=f||Nt,d=d||Nt;const b=f.length,C=d.length,k=Math.min(b,C);let A;for(A=0;A<k;A++){const I=d[A]=S?tt(d[A]):Me(d[A]);E(f[A],I,_,null,v,m,T,x,S)}b>C?Yt(f,v,m,!0,!1,k):q(d,_,y,v,m,T,x,S,k)},Cs=(f,d,_,y,v,m,T,x,S)=>{let b=0;const C=d.length;let k=f.length-1,A=C-1;for(;b<=k&&b<=A;){const I=f[b],H=d[b]=S?tt(d[b]):Me(d[b]);if(ts(I,H))E(I,H,_,null,v,m,T,x,S);else break;b++}for(;b<=k&&b<=A;){const I=f[k],H=d[A]=S?tt(d[A]):Me(d[A]);if(ts(I,H))E(I,H,_,null,v,m,T,x,S);else break;k--,A--}if(b>k){if(b<=A){const I=A+1,H=I<C?d[I].el:y;for(;b<=A;)E(null,d[b]=S?tt(d[b]):Me(d[b]),_,H,v,m,T,x,S),b++}}else if(b>A)for(;b<=k;)je(f[b],v,m,!0),b++;else{const I=b,H=b,Q=new Map;for(b=H;b<=A;b++){const me=d[b]=S?tt(d[b]):Me(d[b]);me.key!=null&&Q.set(me.key,b)}let J,ve=0;const ge=A-H+1;let $e=!1,Re=0;const Zt=new Array(ge);for(b=0;b<ge;b++)Zt[b]=0;for(b=I;b<=k;b++){const me=f[b];if(ve>=ge){je(me,v,m,!0);continue}let Ie;if(me.key!=null)Ie=Q.get(me.key);else for(J=H;J<=A;J++)if(Zt[J-H]===0&&ts(me,d[J])){Ie=J;break}Ie===void 0?je(me,v,m,!0):(Zt[Ie-H]=b+1,Ie>=Re?Re=Ie:$e=!0,E(me,d[Ie],_,null,v,m,T,x,S),ve++)}const En=$e?ql(Zt):Nt;for(J=En.length-1,b=ge-1;b>=0;b--){const me=H+b,Ie=d[me],On=me+1<C?d[me+1].el:y;Zt[b]===0?E(null,Ie,_,On,v,m,T,x,S):$e&&(J<0||b!==En[J]?ft(Ie,_,On,2):J--)}}},ft=(f,d,_,y,v=null)=>{const{el:m,type:T,transition:x,children:S,shapeFlag:b}=f;if(b&6){ft(f.component.subTree,d,_,y);return}if(b&128){f.suspense.move(d,_,y);return}if(b&64){T.move(f,d,_,Xt);return}if(T===Oe){r(m,d,_);for(let k=0;k<S.length;k++)ft(S[k],d,_,y);r(f.anchor,d,_);return}if(T===Tr){D(f,d,_);return}if(y!==2&&b&1&&x)if(y===0)x.beforeEnter(m),r(m,d,_),ye(()=>x.enter(m),v);else{const{leave:k,delayLeave:A,afterLeave:I}=x,H=()=>r(m,d,_),Q=()=>{k(m,()=>{H(),I&&I()})};A?A(m,H,Q):Q()}else r(m,d,_)},je=(f,d,_,y=!1,v=!1)=>{const{type:m,props:T,ref:x,children:S,dynamicChildren:b,shapeFlag:C,patchFlag:k,dirs:A,cacheIndex:I}=f;if(k===-2&&(v=!1),x!=null&&Gs(x,null,_,f,!0),I!=null&&(d.renderCache[I]=void 0),C&256){d.ctx.deactivate(f);return}const H=C&1&&A,Q=!us(f);let J;if(Q&&(J=T&&T.onVnodeBeforeUnmount)&&Le(J,d,f),C&6)pa(f.component,_,y);else{if(C&128){f.suspense.unmount(_,y);return}H&&dt(f,null,d,"beforeUnmount"),C&64?f.type.remove(f,d,_,Xt,y):b&&!b.hasOnce&&(m!==Oe||k>0&&k&64)?Yt(b,d,_,!1,!0):(m===Oe&&k&384||!v&&C&16)&&Yt(S,d,_),y&&Tn(f)}(Q&&(J=T&&T.onVnodeUnmounted)||H)&&ye(()=>{J&&Le(J,d,f),H&&dt(f,null,d,"unmounted")},_)},Tn=f=>{const{type:d,el:_,anchor:y,transition:v}=f;if(d===Oe){da(_,y);return}if(d===Tr){O(f);return}const m=()=>{n(_),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(f.shapeFlag&1&&v&&!v.persisted){const{leave:T,delayLeave:x}=v,S=()=>T(_,m);x?x(f.el,m,S):S()}else m()},da=(f,d)=>{let _;for(;f!==d;)_=p(f),n(f),f=_;n(d)},pa=(f,d,_)=>{const{bum:y,scope:v,job:m,subTree:T,um:x,m:S,a:b}=f;Mn(S),Mn(b),y&&Bs(y),v.stop(),m&&(m.flags|=8,je(T,f,d,_)),x&&ye(x,d),ye(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Yt=(f,d,_,y=!1,v=!1,m=0)=>{for(let T=m;T<f.length;T++)je(f[T],d,_,y,v)},js=f=>{if(f.shapeFlag&6)return js(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const d=p(f.anchor||f.el),_=d&&d[ll];return _?p(_):d};let _r=!1;const kn=(f,d,_)=>{f==null?d._vnode&&je(d._vnode,null,null,!0):E(d._vnode||null,f,d,null,null,null,_),d._vnode=f,_r||(_r=!0,$n(),uo(),_r=!1)},Xt={p:E,um:je,m:ft,r:Tn,mt:Qt,mc:q,pc:G,pbc:se,n:js,o:t};return{render:kn,hydrate:void 0,createApp:Cl(kn)}}function xr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function pt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Bl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function jo(t,e,s=!1){const r=t.children,n=e.children;if(j(r)&&j(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=tt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&jo(o,a)),a.type===hr&&(a.el=o.el)}}function ql(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function $o(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:$o(e)}function Mn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Hl=Symbol.for("v-scx"),Kl=()=>fs(Hl);function ds(t,e,s){return Ro(t,e,s)}function Ro(t,e,s=z){const{immediate:r,deep:n,flush:i,once:o}=s,a=he({},s),l=e&&r||!e&&i!=="post";let u;if(xs){if(i==="sync"){const g=Kl();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Fe,g.resume=Fe,g.pause=Fe,g}}const c=ce;a.call=(g,w,E)=>Be(g,c,w,E);let h=!1;i==="post"?a.scheduler=g=>{ye(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,w)=>{w?g():gn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=rl(t,e,a);return xs&&(u?u.push(p):l&&p()),p}function Vl(t,e,s){const r=this.proxy,n=re(t)?t.includes(".")?Io(r,t):()=>r[t]:t.bind(r,r);let i;U(e)?i=e:(i=e.handler,s=e);const o=Os(this),a=Ro(n,i.bind(r),s);return o(),a}function Io(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Wl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ot(e)}Modifiers`]||t[`${at(e)}Modifiers`];function Jl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||z;let n=s;const i=e.startsWith("update:"),o=i&&Wl(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>re(c)?c.trim():c)),o.number&&(n=s.map(Lr)));let a,l=r[a=vr(e)]||r[a=vr(ot(e))];!l&&i&&(l=r[a=vr(at(e))]),l&&Be(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Be(u,t,6,n)}}function Lo(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!U(t)){const l=u=>{const c=Lo(u,e,!0);c&&(a=!0,he(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Z(t)&&r.set(t,null),null):(j(i)?i.forEach(l=>o[l]=null):he(o,i),Z(t)&&r.set(t,o),o)}function ur(t,e){return!t||!er(e)?!1:(e=e.slice(2).replace(/Once$/,""),W(t,e[0].toLowerCase()+e.slice(1))||W(t,at(e))||W(t,e))}function Fn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:w,inheritAttrs:E}=t,P=zs(t);let R,B;try{if(s.shapeFlag&4){const O=n||r,$=O;R=Me(u.call($,O,c,h,g,p,w)),B=a}else{const O=e;R=Me(O.length>1?O(h,{attrs:a,slots:o,emit:l}):O(h,null)),B=e.props?a:zl(a)}}catch(O){ps.length=0,lr(O,t,1),R=ue(Tt)}let D=R;if(B&&E!==!1){const O=Object.keys(B),{shapeFlag:$}=D;O.length&&$&7&&(i&&O.some(rn)&&(B=Gl(B,i)),D=Wt(D,B,!1,!0))}return s.dirs&&(D=Wt(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&_n(D,s.transition),R=D,zs(P),R}const zl=t=>{let e;for(const s in t)(s==="class"||s==="style"||er(s))&&((e||(e={}))[s]=t[s]);return e},Gl=(t,e)=>{const s={};for(const r in t)(!rn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Ql(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Nn(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!ur(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Nn(r,o,u):!0:!!o;return!1}function Nn(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!ur(s,i))return!0}return!1}function Yl({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Do=t=>t.__isSuspense;function Xl(t,e){e&&e.pendingBranch?j(t)?e.effects.push(...t):e.effects.push(t):ol(t)}const Oe=Symbol.for("v-fgt"),hr=Symbol.for("v-txt"),Tt=Symbol.for("v-cmt"),Tr=Symbol.for("v-stc"),ps=[];let Se=null;function ke(t=!1){ps.push(Se=t?null:[])}function Zl(){ps.pop(),Se=ps[ps.length-1]||null}let Ss=1;function Bn(t,e=!1){Ss+=t,t<0&&Se&&e&&(Se.hasOnce=!0)}function Uo(t){return t.dynamicChildren=Ss>0?Se||Nt:null,Zl(),Ss>0&&Se&&Se.push(t),t}function Ae(t,e,s,r,n,i){return Uo(L(t,e,s,r,n,i,!0))}function ec(t,e,s,r,n){return Uo(ue(t,e,s,r,n,!0))}function Mo(t){return t?t.__v_isVNode===!0:!1}function ts(t,e){return t.type===e.type&&t.key===e.key}const Fo=({key:t})=>t??null,Hs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?re(t)||te(t)||U(t)?{i:we,r:t,k:e,f:!!s}:t:null);function L(t,e=null,s=null,r=0,n=null,i=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Fo(e),ref:e&&Hs(e),scopeId:fo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:we};return a?(mn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=re(s)?8:16),Ss>0&&!o&&Se&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Se.push(l),l}const ue=tc;function tc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===wl)&&(t=Tt),Mo(t)){const a=Wt(t,e,!0);return s&&mn(a,s),Ss>0&&!i&&Se&&(a.shapeFlag&6?Se[Se.indexOf(t)]=a:Se.push(a)),a.patchFlag=-2,a}if(fc(t)&&(t=t.__vccOpts),e){e=sc(e);let{class:a,style:l}=e;a&&!re(a)&&(e.class=We(a)),Z(l)&&(dn(l)&&!j(l)&&(l=he({},l)),e.style=nr(l))}const o=re(t)?1:Do(t)?128:cl(t)?64:Z(t)?4:U(t)?2:0;return L(t,e,s,r,n,o,i,!0)}function sc(t){return t?dn(t)||To(t)?he({},t):t:null}function Wt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?nc(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Fo(u),ref:e&&e.ref?s&&i?j(i)?i.concat(Hs(e)):[i,Hs(e)]:Hs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wt(t.ssContent),ssFallback:t.ssFallback&&Wt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&_n(c,l.clone(c)),c}function rc(t=" ",e=0){return ue(hr,null,t,e)}function qn(t="",e=!1){return e?(ke(),ec(Tt,null,t)):ue(Tt,null,t)}function Me(t){return t==null||typeof t=="boolean"?ue(Tt):j(t)?ue(Oe,null,t.slice()):Mo(t)?tt(t):ue(hr,null,String(t))}function tt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wt(t)}function mn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(j(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),mn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!To(e)?e._ctx=we:n===3&&we&&(we.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else U(e)?(e={default:e,_ctx:we},s=32):(e=String(e),r&64?(s=16,e=[rc(e)]):s=8);t.children=e,t.shapeFlag|=s}function nc(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=We([e.class,r.class]));else if(n==="style")e.style=nr([e.style,r.style]);else if(er(n)){const i=e[n],o=r[n];o&&i!==o&&!(j(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Le(t,e,s,r=null){Be(t,e,7,[s,r])}const ic=wo();let oc=0;function ac(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||ic,i={uid:oc++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Eo(r,n),emitsOptions:Lo(r,n),emit:null,emitted:null,propsDefaults:z,inheritAttrs:r.inheritAttrs,ctx:z,data:z,props:z,attrs:z,slots:z,refs:z,setupState:z,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Jl.bind(null,i),t.ce&&t.ce(i),i}let ce=null,Ys,Kr;{const t=rr(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Ys=e("__VUE_INSTANCE_SETTERS__",s=>ce=s),Kr=e("__VUE_SSR_SETTERS__",s=>xs=s)}const Os=t=>{const e=ce;return Ys(t),t.scope.on(),()=>{t.scope.off(),Ys(e)}},Hn=()=>{ce&&ce.scope.off(),Ys(null)};function No(t){return t.vnode.shapeFlag&4}let xs=!1;function lc(t,e=!1,s=!1){e&&Kr(e);const{props:r,children:n}=t.vnode,i=No(t);Rl(t,r,i,e),Ul(t,n,s);const o=i?cc(t,e):void 0;return e&&Kr(!1),o}function cc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,xl);const{setup:r}=s;if(r){lt();const n=t.setupContext=r.length>1?hc(t):null,i=Os(t),o=Es(r,t,0,[t.props,n]),a=Ri(o);if(ct(),i(),(a||t.sp)&&!us(t)&&po(t),a){if(o.then(Hn,Hn),e)return o.then(l=>{Kn(t,l)}).catch(l=>{lr(l,t,0)});t.asyncDep=o}else Kn(t,o)}else Bo(t)}function Kn(t,e,s){U(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Z(e)&&(t.setupState=oo(e)),Bo(t)}function Bo(t,e,s){const r=t.type;t.render||(t.render=r.render||Fe);{const n=Os(t);lt();try{Tl(t)}finally{ct(),n()}}}const uc={get(t,e){return ae(t,"get",""),t[e]}};function hc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,uc),slots:t.slots,emit:t.emit,expose:e}}function fr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(oo(pn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in hs)return hs[s](t)},has(e,s){return s in e||s in hs}})):t.proxy}function fc(t){return U(t)&&"__vccOpts"in t}const dr=(t,e)=>tl(t,e,xs),dc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vr;const Vn=typeof window<"u"&&window.trustedTypes;if(Vn)try{Vr=Vn.createPolicy("vue",{createHTML:t=>t})}catch{}const qo=Vr?t=>Vr.createHTML(t):t=>t,pc="http://www.w3.org/2000/svg",gc="http://www.w3.org/1998/Math/MathML",Ke=typeof document<"u"?document:null,Wn=Ke&&Ke.createElement("template"),_c={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Ke.createElementNS(pc,t):e==="mathml"?Ke.createElementNS(gc,t):s?Ke.createElement(t,{is:s}):Ke.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Ke.createTextNode(t),createComment:t=>Ke.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ke.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Wn.innerHTML=qo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Wn.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},vc=Symbol("_vtc");function mc(t,e,s){const r=t[vc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Jn=Symbol("_vod"),yc=Symbol("_vsh"),bc=Symbol(""),wc=/(^|;)\s*display\s*:/;function Sc(t,e,s){const r=t.style,n=re(s);let i=!1;if(s&&!n){if(e)if(re(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Ks(r,a,"")}else for(const o in e)s[o]==null&&Ks(r,o,"");for(const o in s)o==="display"&&(i=!0),Ks(r,o,s[o])}else if(n){if(e!==s){const o=r[bc];o&&(s+=";"+o),r.cssText=s,i=wc.test(s)}}else e&&t.removeAttribute("style");Jn in t&&(t[Jn]=i?r.display:"",t[yc]&&(r.display="none"))}const zn=/\s*!important$/;function Ks(t,e,s){if(j(s))s.forEach(r=>Ks(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=xc(t,e);zn.test(s)?t.setProperty(at(r),s.replace(zn,""),"important"):t[r]=s}}const Gn=["Webkit","Moz","ms"],kr={};function xc(t,e){const s=kr[e];if(s)return s;let r=ot(e);if(r!=="filter"&&r in t)return kr[e]=r;r=Di(r);for(let n=0;n<Gn.length;n++){const i=Gn[n]+r;if(i in t)return kr[e]=i}return e}const Qn="http://www.w3.org/1999/xlink";function Yn(t,e,s,r,n,i=ka(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Qn,e.slice(6,e.length)):t.setAttributeNS(Qn,e,s):s==null||i&&!Mi(s)?t.removeAttribute(e):t.setAttribute(e,i?"":Ne(s)?String(s):s)}function Xn(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?qo(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Mi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function mt(t,e,s,r){t.addEventListener(e,s,r)}function Tc(t,e,s,r){t.removeEventListener(e,s,r)}const Zn=Symbol("_vei");function kc(t,e,s,r,n=null){const i=t[Zn]||(t[Zn]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Ec(e);if(r){const u=i[e]=Ac(r,n);mt(t,a,u,l)}else o&&(Tc(t,a,o,l),i[e]=void 0)}}const ei=/(?:Once|Passive|Capture)$/;function Ec(t){let e;if(ei.test(t)){e={};let r;for(;r=t.match(ei);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):at(t.slice(2)),e]}let Er=0;const Oc=Promise.resolve(),Pc=()=>Er||(Oc.then(()=>Er=0),Er=Date.now());function Ac(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Be(Cc(r,s.value),e,5,[r])};return s.value=t,s.attached=Pc(),s}function Cc(t,e){if(j(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const ti=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,jc=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?mc(t,r,o):e==="style"?Sc(t,s,r):er(e)?rn(e)||kc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$c(t,e,r,o))?(Xn(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Yn(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!re(r))?Xn(t,ot(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Yn(t,e,r,o))};function $c(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ti(e)&&U(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ti(e)&&re(s)?!1:e in t}const Xs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return j(e)?s=>Bs(e,s):e};function Rc(t){t.target.composing=!0}function si(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ht=Symbol("_assign"),Or={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Ht]=Xs(n);const i=r||n.props&&n.props.type==="number";mt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Lr(a)),t[Ht](a)}),s&&mt(t,"change",()=>{t.value=t.value.trim()}),e||(mt(t,"compositionstart",Rc),mt(t,"compositionend",si),mt(t,"change",si))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Ht]=Xs(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Lr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Ic={deep:!0,created(t,e,s){t[Ht]=Xs(s),mt(t,"change",()=>{const r=t._modelValue,n=Lc(t),i=t.checked,o=t[Ht];if(j(r)){const a=Fi(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(tr(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(Ho(t,i))})},mounted:ri,beforeUpdate(t,e,s){t[Ht]=Xs(s),ri(t,e,s)}};function ri(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(j(e))n=Fi(e,r.props.value)>-1;else if(tr(e))n=e.has(r.props.value);else{if(e===s)return;n=ir(e,Ho(t,!0))}t.checked!==n&&(t.checked=n)}function Lc(t){return"_value"in t?t._value:t.value}function Ho(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Dc=["ctrl","shift","alt","meta"],Uc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Dc.some(s=>t[`${s}Key`]&&!e.includes(s))},ni=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Uc[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Mc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ii=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=at(n.key);if(e.some(o=>o===i||Mc[o]===i))return t(n)})},Fc=he({patchProp:jc},_c);let oi;function Nc(){return oi||(oi=Fl(Fc))}const Bc=(...t)=>{const e=Nc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Hc(r);if(!n)return;const i=e._component;!U(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,qc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function qc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Hc(t){return re(t)?document.querySelector(t):t}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Ko;const pr=t=>Ko=t,Vo=Symbol();function Wr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var gs;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(gs||(gs={}));function Kc(){const t=Hi(!0),e=t.run(()=>bt({}));let s=[],r=[];const n=pn({install(i){pr(n),n._a=i,i.provide(Vo,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Wo=()=>{};function ai(t,e,s,r=Wo){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&Ki()&&Oa(n),n}function At(t,...e){t.slice().forEach(s=>{s(...e)})}const Vc=t=>t(),li=Symbol(),Pr=Symbol();function Jr(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Wr(n)&&Wr(r)&&t.hasOwnProperty(s)&&!te(r)&&!it(r)?t[s]=Jr(n,r):t[s]=r}return t}const Wc=Symbol();function Jc(t){return!Wr(t)||!Object.prototype.hasOwnProperty.call(t,Wc)}const{assign:Ye}=Object;function zc(t){return!!(te(t)&&t.effect)}function Gc(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=Ya(s.state.value[t]);return Ye(c,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=pn(dr(()=>{pr(s);const g=s._s.get(t);return o[p].call(g,g)})),h),{}))}return l=Jo(t,u,e,s,r,!0),l}function Jo(t,e,s={},r,n,i){let o;const a=Ye({actions:{}},s),l={deep:!0};let u,c,h=[],p=[],g;const w=r.state.value[t];!i&&!w&&(r.state.value[t]={}),bt({});let E;function P(q){let K;u=c=!1,typeof q=="function"?(q(r.state.value[t]),K={type:gs.patchFunction,storeId:t,events:g}):(Jr(r.state.value[t],q),K={type:gs.patchObject,payload:q,storeId:t,events:g});const se=E=Symbol();lo().then(()=>{E===se&&(u=!0)}),c=!0,At(h,K,r.state.value[t])}const R=i?function(){const{state:K}=s,se=K?K():{};this.$patch(xe=>{Ye(xe,se)})}:Wo;function B(){o.stop(),h=[],p=[],r._s.delete(t)}const D=(q,K="")=>{if(li in q)return q[Pr]=K,q;const se=function(){pr(r);const xe=Array.from(arguments),Ce=[],Qe=[];function Qt(F){Ce.push(F)}function As(F){Qe.push(F)}At(p,{args:xe,name:se[Pr],store:$,after:Qt,onError:As});let ee;try{ee=q.apply(this&&this.$id===t?this:$,xe)}catch(F){throw At(Qe,F),F}return ee instanceof Promise?ee.then(F=>(At(Ce,F),F)).catch(F=>(At(Qe,F),Promise.reject(F))):(At(Ce,ee),ee)};return se[li]=!0,se[Pr]=K,se},O={_p:r,$id:t,$onAction:ai.bind(null,p),$patch:P,$reset:R,$subscribe(q,K={}){const se=ai(h,q,K.detached,()=>xe()),xe=o.run(()=>ds(()=>r.state.value[t],Ce=>{(K.flush==="sync"?c:u)&&q({storeId:t,type:gs.direct,events:g},Ce)},Ye({},l,K)));return se},$dispose:B},$=ar(O);r._s.set(t,$);const oe=(r._a&&r._a.runWithContext||Vc)(()=>r._e.run(()=>(o=Hi()).run(()=>e({action:D}))));for(const q in oe){const K=oe[q];if(te(K)&&!zc(K)||it(K))i||(w&&Jc(K)&&(te(K)?K.value=w[q]:Jr(K,w[q])),r.state.value[t][q]=K);else if(typeof K=="function"){const se=D(K,q);oe[q]=se,a.actions[q]=K}}return Ye($,oe),Ye(V($),oe),Object.defineProperty($,"$state",{get:()=>r.state.value[t],set:q=>{P(K=>{Ye(K,q)})}}),r._p.forEach(q=>{Ye($,o.run(()=>q({store:$,app:r._a,pinia:r,options:a})))}),w&&i&&s.hydrate&&s.hydrate($.$state,w),u=!0,c=!0,$}/*! #__NO_SIDE_EFFECTS__ */function Qc(t,e,s){let r;const n=typeof e=="function";r=n?s:e;function i(o,a){const l=$l();return o=o||(l?fs(Vo,null):null),o&&pr(o),o=Ko,o._s.has(t)||(n?Jo(t,e,r,o):Gc(t,r,o)),o._s.get(t)}return i.$id=t,i}const Yc="modulepreload",Xc=function(t){return"/vue-to-do/"+t},ci={},Jt=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Xc(l),l in ci)return;ci[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Yc,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Zc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Jt(async()=>{const{default:r}=await Promise.resolve().then(()=>Gt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class yn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class eu extends yn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class tu extends yn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class su extends yn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(zr||(zr={}));var ru=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class nu{constructor(e,{headers:s={},customFetch:r,region:n=zr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Zc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return ru(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(w=>{throw new eu(w)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new tu(c);if(!c.ok)throw new su(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function iu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ou(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var ne={},Ct={},jt={},$t={},Rt={},It={},au=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zt=au();const lu=zt.fetch,zo=zt.fetch.bind(zt),Go=zt.Headers,cu=zt.Request,uu=zt.Response,Gt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Go,Request:cu,Response:uu,default:zo,fetch:lu},Symbol.toStringTag,{value:"Module"})),hu=ou(Gt);var Ds={},ui;function Qo(){if(ui)return Ds;ui=1,Object.defineProperty(Ds,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ds.default=t,Ds}var hi;function Yo(){if(hi)return It;hi=1;var t=It&&It.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(It,"__esModule",{value:!0});const e=t(hu),s=t(Qo());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,p;let g=null,w=null,E=null,P=u.status,R=u.statusText;if(u.ok){if(this.method!=="HEAD"){const $=await u.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=$:w=JSON.parse($))}const D=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),O=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");D&&O&&O.length>1&&(E=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(g={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,E=null,P=406,R="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const D=await u.text();try{g=JSON.parse(D),Array.isArray(g)&&u.status===404&&(w=[],g=null,P=200,R="OK")}catch{u.status===404&&D===""?(P=204,R="No Content"):g={message:D}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,P=200,R="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:w,count:E,status:P,statusText:R}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,p;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return It.default=r,It}var fi;function Xo(){if(fi)return Rt;fi=1;var t=Rt&&Rt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rt,"__esModule",{value:!0});const e=t(Yo());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Rt.default=s,Rt}var di;function bn(){if(di)return $t;di=1;var t=$t&&$t.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($t,"__esModule",{value:!0});const e=t(Xo());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return $t.default=s,$t}var pi;function Zo(){if(pi)return jt;pi=1;var t=jt&&jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jt,"__esModule",{value:!0});const e=t(bn());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return jt.default=s,jt}var ss={},rs={},gi;function fu(){return gi||(gi=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.version=void 0,rs.version="0.0.0-automated"),rs}var _i;function du(){if(_i)return ss;_i=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.DEFAULT_HEADERS=void 0;const t=fu();return ss.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ss}var vi;function pu(){if(vi)return Ct;vi=1;var t=Ct&&Ct.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ct,"__esModule",{value:!0});const e=t(Zo()),s=t(bn()),r=du();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const p=new URL(`${this.url}/rpc/${o}`);let g;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([E,P])=>P!==void 0).map(([E,P])=>[E,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([E,P])=>{p.searchParams.append(E,P)})):(h="POST",g=a);const w=Object.assign({},this.headers);return c&&(w.Prefer=`count=${c}`),new s.default({method:h,url:p,headers:w,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return Ct.default=n,Ct}var mi;function gu(){if(mi)return ne;mi=1;var t=ne&&ne.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ne,"__esModule",{value:!0}),ne.PostgrestError=ne.PostgrestBuilder=ne.PostgrestTransformBuilder=ne.PostgrestFilterBuilder=ne.PostgrestQueryBuilder=ne.PostgrestClient=void 0;const e=t(pu());ne.PostgrestClient=e.default;const s=t(Zo());ne.PostgrestQueryBuilder=s.default;const r=t(bn());ne.PostgrestFilterBuilder=r.default;const n=t(Xo());ne.PostgrestTransformBuilder=n.default;const i=t(Yo());ne.PostgrestBuilder=i.default;const o=t(Qo());return ne.PostgrestError=o.default,ne.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},ne}var _u=gu();const vu=iu(_u),{PostgrestClient:mu,PostgrestQueryBuilder:Df,PostgrestFilterBuilder:Uf,PostgrestTransformBuilder:Mf,PostgrestBuilder:Ff,PostgrestError:Nf}=vu,yu="2.11.2",bu={"X-Client-Info":`realtime-js/${yu}`},wu="1.0.0",ea=1e4,Su=1e3;var Kt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Kt||(Kt={}));var be;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(be||(be={}));var Ee;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ee||(Ee={}));var Gr;(function(t){t.websocket="websocket"})(Gr||(Gr={}));var yt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yt||(yt={}));class xu{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ta{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const yi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Tu(o,t,e,n),i),{})},Tu=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?sa(i,o):Qr(o)},sa=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Pu(e,s)}switch(t){case Y.bool:return ku(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Eu(e);case Y.json:case Y.jsonb:return Ou(e);case Y.timestamp:return Au(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Qr(e);default:return Qr(e)}},Qr=t=>t,ku=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Eu=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ou=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Pu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>sa(e,a))}return t},Au=t=>typeof t=="string"?t.replace(" ","T"):t,ra=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ar{constructor(e,s,r={},n=ea){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bi||(bi={}));class _s{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_s.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=_s.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=_s.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(P=>P.presence_ref),g=h.map(P=>P.presence_ref),w=c.filter(P=>g.indexOf(P.presence_ref)<0),E=h.filter(P=>p.indexOf(P.presence_ref)<0);w.length>0&&(a[u]=w),E.length>0&&(l[u]=E)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wi||(wi={}));var Si;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Si||(Si={}));var Ve;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ve||(Ve={}));class wn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ar(this,Ee.join,this.params,this.timeout),this.rejoinTimer=new ta(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ee.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new _s(this),this.broadcastEndpointURL=ra(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Ve.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Ve.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(Ve.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,w=[];for(let E=0;E<g;E++){const P=p[E],{filter:{event:R,schema:B,table:D,filter:O}}=P,$=c&&c[E];if($&&$.event===R&&$.schema===B&&$.table===D&&$.filter===O)w.push(Object.assign(Object.assign({},P),{id:$.id}));else{this.unsubscribe(),e==null||e(Ve.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Ve.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Ve.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ve.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=be.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ee.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Ar(this,Ee.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ar(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ee;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var w,E,P;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((P=(E=g.filter)===null||E===void 0?void 0:E.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var w,E,P,R,B,D;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const O=g.id,$=(w=g.filter)===null||w===void 0?void 0:w.event;return O&&((E=s.ids)===null||E===void 0?void 0:E.includes(O))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((P=s.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const O=(B=(R=g==null?void 0:g.filter)===null||R===void 0?void 0:R.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return O==="*"||O===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:E,table:P,commit_timestamp:R,type:B,errors:D}=w;p=Object.assign(Object.assign({},{schema:E,table:P,commit_timestamp:R,eventType:B,new:{},old:{},errors:D}),this._getPayloadRecords(w))}g.callback(p,r)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&wn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ee.close,{},e)}_onError(e){this._on(Ee.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=yi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=yi(e.columns,e.old_record)),s}}const Cu=()=>{},ju=typeof WebSocket<"u",$u=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ru{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=bu,this.params={},this.timeout=ea,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Cu,this.conn=null,this.sendBuffer=[],this.serializer=new xu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Jt(async()=>{const{default:l}=await Promise.resolve().then(()=>Gt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Gr.websocket}`,this.httpEndpoint=ra(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ta(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ju){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Iu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Jt(async()=>{const{default:e}=await import("./browser-Bu2Q-ol4.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wu}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kt.connecting:return yt.Connecting;case Kt.open:return yt.Open;case Kt.closing:return yt.Closing;default:return yt.Closed}}isConnected(){return this.connectionState()===yt.Open}channel(e,s={config:{}}){const r=new wn(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ee.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Su,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ee.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([$u],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Iu{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Kt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Sn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Lu extends Sn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yr extends Sn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Du=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const na=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Jt(async()=>{const{default:r}=await Promise.resolve().then(()=>Gt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Uu=()=>Du(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jt(()=>Promise.resolve().then(()=>Gt),void 0)).Response:Response}),Xr=t=>{if(Array.isArray(t))return t.map(s=>Xr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Xr(r)}),e};var Ot=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Cr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mu=(t,e,s)=>Ot(void 0,void 0,void 0,function*(){const r=yield Uu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Lu(Cr(n),t.status||500))}).catch(n=>{e(new Yr(Cr(n),n))}):e(new Yr(Cr(t),t))}),Fu=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Ps(t,e,s,r,n,i){return Ot(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Fu(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Mu(l,a,r))})})}function Zs(t,e,s,r){return Ot(this,void 0,void 0,function*(){return Ps(t,"GET",e,s,r)})}function st(t,e,s,r,n){return Ot(this,void 0,void 0,function*(){return Ps(t,"POST",e,r,n,s)})}function Nu(t,e,s,r,n){return Ot(this,void 0,void 0,function*(){return Ps(t,"PUT",e,r,n,s)})}function Bu(t,e,s,r){return Ot(this,void 0,void 0,function*(){return Ps(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function ia(t,e,s,r,n){return Ot(this,void 0,void 0,function*(){return Ps(t,"DELETE",e,r,n,s)})}var _e=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const qu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hu{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=na(n)}uploadOrUpdate(e,s,r,n){return _e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},xi),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ie(i))return{data:null,error:i};throw i}})}upload(e,s,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return _e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:xi.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield st(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Sn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}update(e,s,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return _e(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}copy(e,s,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield st(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield st(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return _e(this,void 0,void 0,function*(){try{const n=yield st(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}download(e,s){return _e(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Zs(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}})}info(e){return _e(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Zs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Xr(r),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}exists(e){return _e(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Bu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ie(r)&&r instanceof Yr){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}list(e,s,r){return _e(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},qu),s),{prefix:e||""});return{data:yield st(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Ku="2.7.1",Vu={"X-Client-Info":`storage-js/${Ku}`};var Lt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Wu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Vu),s),this.fetch=na(r)}listBuckets(){return Lt(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ie(e))return{data:null,error:e};throw e}})}getBucket(e){return Lt(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Lt(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Lt(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Lt(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Lt(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}}class Ju extends Wu{constructor(e,s={},r){super(e,s,r)}from(e){return new Hu(this.url,this.headers,e,this.fetch)}}const zu="2.49.4";let os="";typeof Deno<"u"?os="deno":typeof document<"u"?os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?os="react-native":os="node";const Gu={"X-Client-Info":`supabase-js-${os}/${zu}`},Qu={headers:Gu},Yu={schema:"public"},Xu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zu={};var eh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const th=t=>{let e;return t?e=t:typeof fetch>"u"?e=zo:e=fetch,(...s)=>e(...s)},sh=()=>typeof Headers>"u"?Go:Headers,rh=(t,e,s)=>{const r=th(s),n=sh();return(i,o)=>eh(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var nh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function ih(t){return t.replace(/\/$/,"")}function oh(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>nh(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const oa="2.69.1",Ft=30*1e3,Zr=3,jr=Zr*Ft,ah="http://localhost:9999",lh="supabase.auth.token",ch={"X-Client-Info":`gotrue-js/${oa}`},en="X-Supabase-Api-Version",aa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hh=6e5;class xn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class fh extends xn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function dh(t){return M(t)&&t.name==="AuthApiError"}class la extends xn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ut extends xn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Xe extends ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ph(t){return M(t)&&t.name==="AuthSessionMissingError"}class $r extends ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Us extends ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ms extends ut{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gh(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ti extends ut{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tn extends ut{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Rr(t){return M(t)&&t.name==="AuthRetryableFetchError"}class ki extends ut{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class vs extends ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oi=` 	
\r=`.split(""),_h=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Oi.length;e+=1)t[Oi[e].charCodeAt(0)]=-2;for(let e=0;e<Ei.length;e+=1)t[Ei[e].charCodeAt(0)]=e;return t})();function ca(t,e,s){const r=_h[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Pi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{yh(o,r,s)};for(let o=0;o<t.length;o+=1)ca(t.charCodeAt(o),n,i);return e.join("")}function vh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mh(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}vh(r,e)}}function yh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function bh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)ca(t.charCodeAt(n),s,r);return new Uint8Array(e)}function wh(t){const e=[];return mh(t,s=>e.push(s)),new Uint8Array(e)}function Sh(t){return Math.round(Date.now()/1e3)+t}function xh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const De=()=>typeof window<"u"&&typeof document<"u",gt={tested:!1,writable:!1},ms=()=>{if(!De())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gt.tested)return gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gt.tested=!0,gt.writable=!0}catch{gt.tested=!0,gt.writable=!1}return gt.writable};function Th(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const ua=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Jt(async()=>{const{default:r}=await Promise.resolve().then(()=>Gt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},kh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ha=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Fs=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ns=async(t,e)=>{await t.removeItem(e)};class gr{constructor(){this.promise=new gr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}gr.promiseConstructor=Promise;function Ir(t){const e=t.split(".");if(e.length!==3)throw new vs("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!uh.test(e[r]))throw new vs("JWT not in base64url format");return{header:JSON.parse(Pi(e[0])),payload:JSON.parse(Pi(e[1])),signature:bh(e[2]),raw:{header:e[0],payload:e[1]}}}async function Eh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Oh(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Ph(t){return("0"+t.toString(16)).substr(-2)}function Ah(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Ph).join("")}async function Ch(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function jh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Ch(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dt(t,e,s=!1){const r=Ah();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await ha(t,`${e}-code-verifier`,n);const i=await jh(r);return[i,r===i?"plain":"s256"]}const $h=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rh(t){const e=t.headers.get(en);if(!e||!e.match($h))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ih(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Lh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Dh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const vt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Uh=[502,503,504];async function Ai(t){var e;if(!kh(t))throw new tn(vt(t),0);if(Uh.includes(t.status))throw new tn(vt(t),t.status);let s;try{s=await t.json()}catch(i){throw new la(vt(i),i)}let r;const n=Rh(t);if(n&&n.getTime()>=aa["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new ki(vt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Xe}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ki(vt(s),t.status,s.weak_password.reasons);throw new fh(vt(s),t.status||500,r)}const Mh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function N(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[en]||(i[en]=aa["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Fh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Fh(t,e,s,r,n,i){const o=Mh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new tn(vt(l),0)}if(a.ok||await Ai(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ai(l)}}function Ze(t){var e;let s=null;Hh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Sh(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Ci(t){const e=Ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function rt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Nh(t){return{data:t,error:null}}function Bh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Dh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function qh(t){return t}function Hh(t){return t.access_token&&t.refresh_token&&t.expires_in}var Kh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Vh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=ua(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:rt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Kh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Bh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(M(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rt})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:qh});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(w.split(";")[1].split("=")[1]);u[`${P}Page`]=E}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rt})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:rt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:rt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(M(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}}const Wh={getItem:t=>ms()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ms()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ms()&&globalThis.localStorage.removeItem(t)}};function ji(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Jh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ut={debug:!!(globalThis&&ms()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zh extends fa{}async function Gh(t,e,s){Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ut.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Jh();const Qh={url:ah,storageKey:lh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ch,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $i(t,e,s){return await s()}class Ts{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ts.nextInstanceID,Ts.nextInstanceID+=1,this.instanceID>0&&De()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Qh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Vh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ua(n.fetch),this.lock=n.lock||$i,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:De()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Gh:this.lock=$i,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ms()?this.storage=Wh:(this.memoryStorage={},this.storage=ji(this.memoryStorage)):(this.memoryStorage={},this.storage=ji(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${oa}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Th(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),De()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),gh(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return M(s)?{error:s}:{error:new la("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ze}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Dt(this.storage,this.storageKey)),i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:w},xform:Ze})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ze})}else throw new Us("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ci})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ci})}else throw new Us("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new $r}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Fs(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ze});if(await Ns(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new $r}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ze}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new $r}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Dt(this.storage,this.storageKey));const{error:h}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Us("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ze});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Dt(this.storage,this.storageKey)),await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Nh})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Xe;const{error:n}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await N(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await N(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Us("You must provide either an email or phone number and a type")}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<jr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xe}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:rt})})}catch(s){if(M(s))return ph(s)&&(await this._removeSession(),await Ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Xe;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Dt(this.storage,this.storageKey));const{data:u,error:c}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:rt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xe;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Ir(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(M(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Xe;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!De())throw new Ms("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ms(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ti("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ms("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ti("No code detected.");const{data:B,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Ms("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=Ft&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const w=p-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,c);const{data:E,error:P}=await this._getUser(i);if(P)throw P;const R={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(M(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(dh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=xh(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Dt(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return De()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(M(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Oh(async n=>(n>0&&await Eh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ze})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Rr(i)&&Date.now()+o-r<Ft})}catch(r){if(this._debug(s,"error",r),M(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),De()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Fs(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<jr;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${jr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Rr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Xe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new gr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Xe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),M(i)){const o={session:null,error:i};return Rr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ha(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ns(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&De()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ft);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Ft);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ft}ms, refresh threshold is ${Zr} ticks`),n<=Zr&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fa)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!De()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Dt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await N(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(M(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(M(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ir(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+hh>Date.now()))return r;const{data:n,error:i}=await N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new vs("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new vs("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Ir(r);if(Ih(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=Lh(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,wh(`${a}.${l}`)))throw new vs("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}Ts.nextInstanceID=0;const Yh=Ts;class Xh extends Yh{constructor(e){super(e)}}var Zh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class ef{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=ih(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Yu,realtime:Zu,auth:Object.assign(Object.assign({},Xu),{storageKey:l}),global:Qu},c=oh(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=rh(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new mu(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new nu(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ju(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Zh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xh({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ru(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tf=(t,e,s)=>new ef(t,e,s),sf="https://cnlixrxdtrawqgrfsjjf.supabase.co",rf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNubGl4cnhkdHJhd3FncmZzampmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ2MzQ2MzQsImV4cCI6MjA2MDIxMDYzNH0.G8naXyKIfzsiQyABWQAgsz8Cax6guuHBBeDGWw808Oc",ns=tf(sf,rf),kt=Qc("todo",{state:()=>({todos:[],filtered:[],edit:null}),actions:{async loadTodos(){const{data:t,error:e}=await ns.from("todos").select("*");if(e){console.error("Fehler beim laden der Todos",e.message);return}t&&Array.isArray(t)?this.todos=t:console.error("Keine gltigen Daten erhalten:",t)},async addTodo(t,e,s){const{data:r,error:n}=await ns.from("todos").insert([{title:t,text:e,done:!1,prio:s}]).select();n?console.error("Fehler beim Hinzufgen des Todos:",n.message):r&&Array.isArray(r)&&this.todos.push(...r)},async removeTodo(t){const{error:e}=await ns.from("todos").delete().eq("id",t);if(e){console.error("Fehler beim lschen der Todos");return}this.todos=this.todos.filter(s=>s.id!==t)},async toggleDoneStatus(t){const e=this.todos.find(n=>n.id===t);if(!e)return;const s=!e.done,{error:r}=await ns.from("todos").update({done:s}).eq("id",t);if(r){console.error("Fehler beim Aktualisieren der Todos");return}e.done=s},filterTodo(t){this.filtered=this.todos.filter(e=>e.done===t)},async updateTodo(t){const e=this.todos.findIndex(r=>r.id===t.id);e!==-1&&(this.todos[e]={...this.todos[e],...t});const{error:s}=await ns.from("todos").update({title:t.title,text:t.text,prio:t.prio}).eq("id",t.id);if(s){console.error("Fehler beim Bearbeiten der der todos");return}},editingToEdit(t){this.edit=t}}}),nf={class:"grid grid-cols-2 gap-1 mx-2"},of=Et({__name:"to-do-controls",props:{id:{}},setup(t){const{removeTodo:e}=kt(),{todos:s,editingToEdit:r}=kt(),n=t,i=o=>{const a=s.find(l=>l.id===o);if(a){r(a);const l=document.getElementById("todoModal");l.checked=!0}};return(o,a)=>(ke(),Ae("div",nf,[L("button",{onClick:a[0]||(a[0]=l=>Vt(e)(n.id)),class:"btn btn-outline btn-error"},"Lschen"),L("button",{onClick:a[1]||(a[1]=l=>i(n.id)),class:"btn btn-outline btn-warning"},"Bearbeiten")]))}}),af=["id"],lf={class:"flex"},cf={key:0},uf={class:"card-actions justify-center my-2"},hf=Et({__name:"to-do-item",props:{id:{type:Number,required:!0},title:{type:String,required:!0},text:{type:String,required:!1},done:{type:Boolean,default:!1,required:!0},prio:{type:Boolean,default:!1}},setup(t){const{toggleDoneStatus:e}=kt(),s=t,r=bt(!1),n=()=>{r.value=!r.value},i=dr(()=>r.value?s.text&&s.text.length>1?"h-72":"h-48":"h-24");return(o,a)=>(ke(),Ae("div",{id:t.id.toString(),class:We(["card","text-neutral-content","bg-base-300","my-4","duration-300 ease-in-out","cursor-pointer","w-75","transition-all duration-300 ease-in-out",i.value]),onClick:ni(n,["prevent"])},[L("div",{class:We(["card-body","transition-all duration-300 ease-in-out",{"items-center":!r.value,"items-start":r.value},{"opacity-50":t.done}])},[L("div",lf,[L("h2",{class:We(["card-title",{"text-done":t.done}])},qs(t.title),3),L("div",{class:We(["badge","absolute","right-2","top-2",{"badge-error":t.prio},{"badge-success":!t.prio}])},null,2)]),r.value?(ke(),Ae("p",{key:0,class:We(["text-base-content transition-all duration-300 ease-in-out",{"text-done":t.done}])},qs(t.text),3)):qn("",!0)],2),r.value?(ke(),Ae("div",cf,[ue(of,{id:t.id},null,8,["id"])])):qn("",!0),L("div",uf,[L("button",{style:nr({width:t.done?"25%":"95%"}),class:We(["btn transition-all duration-300 ease-in-out",t.done?"btn-error":"btn-success"]),onClick:a[0]||(a[0]=ni(l=>Vt(e)(t.id),["stop"]))},qs(t.done?"X":""),7)])],10,af))}}),ff=Et({__name:"to-do-list",setup(t){const e=kt();return vo(()=>{e.loadTodos()}),(s,r)=>(ke(!0),Ae(Oe,null,Sl(Vt(e).todos,n=>(ke(),Ae("div",{key:n.id,class:"flex justify-center"},[ue(hf,{id:n.id,title:n.title,done:n.done,text:n.text,prio:n.prio},null,8,["id","title","done","text","prio"])]))),128))}}),df={class:"filter mt-5"},pf=Et({__name:"to-do-filter",setup(t){const{filterTodo:e}=kt();return(s,r)=>(ke(),Ae("form",df,[r[2]||(r[2]=L("input",{class:"btn btn-error",type:"reset",value:""},null,-1)),L("input",{onClick:r[0]||(r[0]=n=>Vt(e)(!1)),class:"btn btn-outline btn-warning",type:"radio",name:"frameworks","aria-label":"Alle"}),L("input",{onClick:r[1]||(r[1]=n=>Vt(e)(!0)),class:"btn btn-outline btn-warning",type:"radio",name:"frameworks","aria-label":"Offen"}),r[3]||(r[3]=L("input",{class:"btn btn-outline btn-warning",type:"radio",name:"frameworks","aria-label":"Erledigt"},null,-1))]))}}),gf=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},_f={},vf={role:"tablist",class:"tabs tabs-border"};function mf(t,e){return ke(),Ae("div",vf,e[0]||(e[0]=[L("a",{role:"tab",class:"tab tab-active"},"Aufgaben",-1),L("a",{role:"tab",class:"tab"},"Kalendar",-1)]))}const yf=gf(_f,[["render",mf]]),bf={class:"fieldset w-xs bg-base-100 border border-primary p-4 rounded-box"},wf={class:"mb-2"},Sf={class:"floating-label"},xf={class:"mb-2"},Tf={class:"floating-label"},kf={class:"flex justify-centermb-2"},Ef={class:"mr-5"},Of=Et({__name:"to-do-form",props:{editingTodo:{}},setup(t){const e=t,s=bt(""),r=bt(""),n=bt(!1),i=bt(),{addTodo:o,updateTodo:a}=kt(),l=()=>{e.editingTodo?a({id:e.editingTodo.id,title:s.value,text:r.value,prio:n.value}):o(s.value,r.value,n.value),s.value="",r.value="",n.value=!1};return ds(()=>e.editingTodo,u=>{u&&(s.value=u.title,r.value=u.text,n.value=u.prio)},{immediate:!1}),(u,c)=>(ke(),Ae("div",null,[L("fieldset",bf,[c[11]||(c[11]=L("legend",{class:"fieldset-legend"},"To-Do erstellen",-1)),L("div",wf,[L("label",Sf,[Ls(L("input",{onKeyup:c[0]||(c[0]=ii(h=>l(),["enter"])),type:"text",class:"input join-item border-primary",placeholder:"Aufgabe","onUpdate:modelValue":c[1]||(c[1]=h=>s.value=h)},null,544),[[Or,s.value]]),c[7]||(c[7]=L("span",null,"Aufgabe",-1))])]),L("div",xf,[L("label",Tf,[Ls(L("input",{onKeyup:c[2]||(c[2]=ii(h=>l(),["enter"])),type:"text",class:"input join-item border-primary",placeholder:"Beschreibung","onUpdate:modelValue":c[3]||(c[3]=h=>r.value=h)},null,544),[[Or,r.value]]),c[8]||(c[8]=L("span",null,"Beschreibung",-1))])]),L("div",kf,[c[10]||(c[10]=L("h3",{class:"mr-5"},"Prioritt",-1)),L("label",Ef,[Ls(L("input",{type:"checkbox","onUpdate:modelValue":c[4]||(c[4]=h=>n.value=h),class:"checkbox checkbox-primary mr-2"},null,512),[[Ic,n.value]]),c[9]||(c[9]=L("span",null,"Hoch",-1))])]),L("div",null,[Ls(L("input",{type:"datetime-local",class:"input","onUpdate:modelValue":c[5]||(c[5]=h=>i.value=h)},null,512),[[Or,i.value]])]),L("button",{onClick:c[6]||(c[6]=h=>l()),class:"btn btn-soft btn-secondary"},"Sichern")])]))}}),Pf={class:"modal"},Af={class:"modal-box relative"},Cf=Et({__name:"to-do-modal",setup(t){const e=kt(),s=dr(()=>e.edit===null?void 0:e.edit);return(r,n)=>(ke(),Ae(Oe,null,[n[1]||(n[1]=L("input",{type:"checkbox",id:"todoModal",class:"modal-toggle"},null,-1)),L("div",Pf,[L("div",Af,[n[0]||(n[0]=L("label",{for:"todoModal",class:"btn btn-sm btn-circle absolute right-2 top-2"},"X",-1)),ue(Of,{editingTodo:s.value},null,8,["editingTodo"])])])],64))}}),jf={class:"max-w-screen-lg mx-auto px-4"},$f={class:"flex flex-col place-items-center my-5"},Rf={class:"grid grid-row px-4 gap-4 mb-32"},If=Et({__name:"App",setup(t){return(e,s)=>(ke(),Ae("main",jf,[L("div",$f,[L("div",null,[ue(yf)]),L("div",null,[ue(pf)])]),L("div",Rf,[ue(ff)]),ue(Cf),s[0]||(s[0]=L("div",{class:"fixed bottom-8 right-8 z-50"},[L("label",{for:"todoModal",class:"btn btn-success w-16 h-16 text-xl"},"")],-1))]))}});Bc(If).use(Kc()).mount("#app");export{iu as g};
